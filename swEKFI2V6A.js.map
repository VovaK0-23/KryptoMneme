{
  "version": 3,
  "sources": ["../src/sw.ts"],
  "sourcesContent": ["/// <reference lib=\"webworker\" />\n\ndeclare const self: ServiceWorkerGlobalScope;\ndeclare const clients: Clients;\n\nconst CACHE_NAME = 'crypto-price-cache' + SW_VERSION;\n\nconst publicPath = (str: string) => PUBLIC_PATH + str;\n\n// Add whichever assets you want to pre-cache here:\nconst PRECACHE_ASSETS = [\n  publicPath('/'),\n  publicPath('/manifest.json'),\n  publicPath('/build/index.js'),\n];\n\nself.addEventListener('install', (event) => {\n  console.log('SW installing');\n  event.waitUntil(\n    (async () => {\n      const cache = await caches.open(CACHE_NAME);\n      cache.addAll(PRECACHE_ASSETS);\n      const response = await fetch(publicPath('/manifest.json'));\n      const manifest = await response.json();\n      const assetUrls = manifest.files.map((file: string) => publicPath(`/assets/${file}`));\n      cache.addAll(assetUrls);\n    })()\n  );\n  self.skipWaiting();\n});\n\nself.addEventListener('activate', (event) => {\n  console.log('SW activate');\n  event.waitUntil(clients.claim());\n});\n\nself.addEventListener('fetch', async (event) => {\n  event.respondWith(\n    caches.open(CACHE_NAME).then((cache) =>\n      cache.match(event.request).then((response) => {\n        if (NODE_ENV === 'development') {\n          return fetch(event.request);\n        }\n        if (response) return response;\n        else return fetch(event.request);\n      })\n    )\n  );\n});\n\nexport default null;\n"],
  "mappings": ";;;AAKA,MAAM,aAAa;AAEnB,MAAM,aAAa,CAAC,QAAgB,KAAc;AAGlD,MAAM,kBAAkB;AAAA,IACtB,WAAW,GAAG;AAAA,IACd,WAAW,gBAAgB;AAAA,IAC3B,WAAW,iBAAiB;AAAA,EAC9B;AAEA,OAAK,iBAAiB,WAAW,CAAC,UAAU;AAC1C,YAAQ,IAAI,eAAe;AAC3B,UAAM;AAAA,OACH,YAAY;AACX,cAAM,QAAQ,MAAM,OAAO,KAAK,UAAU;AAC1C,cAAM,OAAO,eAAe;AAC5B,cAAM,WAAW,MAAM,MAAM,WAAW,gBAAgB,CAAC;AACzD,cAAM,WAAW,MAAM,SAAS,KAAK;AACrC,cAAM,YAAY,SAAS,MAAM,IAAI,CAAC,SAAiB,WAAW,WAAW,IAAI,EAAE,CAAC;AACpF,cAAM,OAAO,SAAS;AAAA,MACxB,GAAG;AAAA,IACL;AACA,SAAK,YAAY;AAAA,EACnB,CAAC;AAED,OAAK,iBAAiB,YAAY,CAAC,UAAU;AAC3C,YAAQ,IAAI,aAAa;AACzB,UAAM,UAAU,QAAQ,MAAM,CAAC;AAAA,EACjC,CAAC;AAED,OAAK,iBAAiB,SAAS,OAAO,UAAU;AAC9C,UAAM;AAAA,MACJ,OAAO,KAAK,UAAU,EAAE;AAAA,QAAK,CAAC,UAC5B,MAAM,MAAM,MAAM,OAAO,EAAE,KAAK,CAAC,aAAa;AAC5C,cAAI,MAA4B;AAC9B,mBAAO,MAAM,MAAM,OAAO;AAAA,UAC5B;AACA,cAAI;AAAU,mBAAO;AAAA;AAChB,mBAAO,MAAM,MAAM,OAAO;AAAA,QACjC,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF,CAAC;AAED,MAAO,aAAQ;",
  "names": []
}
